import e,{useEffect as E}from"../../web_modules/react.js";import o from"./Step.js";import c from"./InterStep.js";import n from"./WorlkflowEditor.module.css.proxy.js";import{FontAwesomeIcon as i}from"../../web_modules/@fortawesome/react-fontawesome.js";import{faGripLines as d}from"../../web_modules/@fortawesome/free-solid-svg-icons.js";export default function u(r){const{Title:f,WorkFlowTemplateSteps:a,TemplateLocked:l}=r.steps||{},m=r.steps&&Object.keys(r.steps).length>0&&r.steps.constructor===Object,p=a!==void 0?a.sort((t,s)=>t.StepNumber-s.StepNumber):[],_=p.filter(t=>t.IsDeleted===!1);E(()=>{console.log("----> editor new steps: ",r.steps)},[r.steps]);const S=m?e.createElement("div",{className:n.WorkflowContainer},e.createElement(o,{type:"start",stepJson:{StepNumber:0}}),_.map((t,s)=>!t.IsDeleted&&e.createElement("div",{key:t.GUID,className:n.StepGroup},e.createElement(o,{type:"inner",stepJson:t,isLocked:l}),s<_.length-1&&e.createElement(c,{stepJson:{StepNumber:++s}}))),e.createElement(o,{type:"end",stepJson:{StepNumber:_.length}})):"";return e.createElement(e.Fragment,null,m&&e.createElement("div",{className:n.dragPanel},e.createElement("div",{className:n.newStep,id:"step",draggable:!l},e.createElement(i,{icon:d})),e.createElement("div",null,"Drag new step into template")),m?e.createElement("div",{className:n.WorkflowContainer},e.createElement(o,{type:"start",stepJson:{StepNumber:0}}),_.map((t,s)=>e.createElement("div",{key:s,className:n.StepGroup},e.createElement(o,{type:"inner",stepJson:t,isLocked:l}),t.StepNumber<_.length&&e.createElement(c,{stepJson:{StepNumber:++s}}))),e.createElement(o,{type:"end",stepJson:{StepNumber:_.length}})):"")}
