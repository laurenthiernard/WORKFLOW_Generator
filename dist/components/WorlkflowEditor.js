import e from"../../web_modules/react.js";import o from"./Step.js";import p from"./InterStep.js";import n from"./WorlkflowEditor.module.css.proxy.js";import{FontAwesomeIcon as d}from"../../web_modules/@fortawesome/react-fontawesome.js";import{faGripLines as u}from"../../web_modules/@fortawesome/free-solid-svg-icons.js";import{useTransition as f,animated as S}from"../../web_modules/react-spring.js";export default function U(_){const{Title:P,WorkFlowTemplateSteps:m,TemplateLocked:a}=_.steps||{},l=_.steps&&Object.keys(_.steps).length>0&&_.steps.constructor===Object,c=m!==void 0?m.sort((t,s)=>t.StepNumber-s.StepNumber):[],r=c.filter(t=>t.IsDeleted===!1),i=f(r,t=>t.GUID,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},unique:!1}),R=l?e.createElement("div",{className:n.WorkflowContainer},e.createElement(o,{type:"start",stepJson:{StepNumber:0}}),r.map((t,s)=>!t.IsDeleted&&e.createElement("div",{key:t.GUID,className:n.StepGroup},e.createElement(o,{type:"inner",stepJson:t,isLocked:a}),s<r.length-1&&e.createElement(p,{stepJson:{StepNumber:++s}}))),e.createElement(o,{type:"end",stepJson:{StepNumber:r.length}})):"";return e.createElement(e.Fragment,null,l&&e.createElement("div",{className:n.dragPanel},e.createElement("div",{className:n.newStep,id:"step",draggable:!a},e.createElement(d,{icon:u})),e.createElement("div",null,"Drag new step into template")),l?e.createElement("div",{className:n.WorkflowContainer},e.createElement(o,{type:"start",stepJson:{StepNumber:0}}),i.map(({item:t,props:s,key:E})=>e.createElement(S.div,{key:t.StepNumber,style:s,className:n.StepGroup},e.createElement(o,{type:"inner",stepJson:t,isLocked:a}),t.StepNumber<r.length&&e.createElement(p,{stepJson:{StepNumber:++E}}))),e.createElement(o,{type:"end",stepJson:{StepNumber:r.length}})):"")}
